<div class="modal-dialog modal-dialog-centered m-0 modal-lg">
  <div class="modal-content" style="background: #f7f3f2;max-height: 80vh; overflow-y: auto;padding: 12px">
    <div class="modal-header" style="border:0px solid #f7f3f2;padding-bottom: 0px">
      <h1 class="modal-title font-size-16" id="exampleModalLabel">Profile</h1>
      <img src="assets/img/closebutton-icon.webp" class="img-fluid" width="24px" height="24px" (click)="close()">
    </div>

    <div class="modal-body" style="border: 0px solid #f7f3f2;padding-bottom: 0px;">
      <div class="white-profile-input d-flex flex-row justify-content-between">
        <div class="d-flex flex-row align-items-center" style="width: 100%;">
          <div class="d-flex flex-row justify-content-center align-items-center" style="width: 50px; height: 50px">
            <img [src]="imageUrl" (error)="onImgError($event)"
                 style="border-radius: 50%; width: 45px; height: 45px;" class="img-fluid">
          </div>
          <div class="d-flex flex-column ms-2 align-items-start">
            <span class="font-size-14 font-weight-500 dark-color">Profile Image</span>
            <span class="font-size-12 font-weight-500">{{ imageFileName }}</span>
          </div>
        </div>

        <!-- <input type="file" (change)="fileChangeEvent($event)" /> -->

        <image-cropper *ngIf="enableCropper"
          [imageChangedEvent]="imageChangedEvent"
          [maintainAspectRatio]="true"
          [aspectRatio]="4 / 3"
          format="png"
          (imageCropped)="imageCropped($event)"
          (imageLoaded)="imageLoaded()"
          (cropperReady)="cropperReady()"
          (loadImageFailed)="loadImageFailed()"
        ></image-cropper>

        <div>
          <input type='file' id="imageUpload" class="d-none"
                 accept=".png, .jpg, .jpeg"
                 #fileInput (change)="fileChangeEvent($event)"/>
          <button class="grey-btn2"
                  (click)="fileInput.click()">Upload
          </button>
          <button class="save-btn" *ngIf="enableCropper"
                  (click)="saveProfileImage()">Save
          </button>
        </div>
      </div>
      <form #profileForm="ngForm"
            [appMatchPassword]="['newPassword', 'confirmPassword']">
        <div class="d-flex flex-column justify-content-start col-12">
          <div class="mt-3  d-flex flex-column justify-content-start col-12">
            <label class="d-flex flex-row justify-content-start font-size-12 font-weight-500">Name</label>
            <span class="text-danger"
             *ngIf="submitted && name.errors?.['required']">This is required field</span>
            <input type="text" placeholder="Name" class="white-input-background mt-2 font-size-14 font-weight-400"
                   name="name"
                   [(ngModel)]="user.name"
                   #name="ngModel"
                   required>
          </div>
          <div class="mt-3  d-flex flex-column justify-content-start col-12">
            <label class="d-flex flex-row justify-content-start font-size-12 font-weight-500">Email</label>
            <span class="text-danger"
             *ngIf="submitted && email.errors?.['required']">This is required field</span>
            <span class="text-danger"
                  *ngIf="submitted && email.errors?.['email']">Invalid email address</span>
            <input type="email" placeholder="j@jonc.im" class="white-input-background mt-2 font-size-14 font-weight-400"
                   name="email" readonly
                   [(ngModel)]="user.email"
                   #email="ngModel"
                   required email>
          </div>
          <hr style="color: #e5e0df; border: 1px solid;opacity: 0.6;margin-top: 1.4rem;
    margin-bottom: 0;">
          <div class="mt-3  d-flex flex-column justify-content-start col-12">
            <label class="d-flex flex-row justify-content-start font-size-12 font-weight-500">Current Password</label>
            <span class="text-danger"
             *ngIf="submitted && password.errors?.['required']">This is required field</span>
            <input type="password" placeholder="Current Password"
                   class="white-input-background mt-2 font-size-14 font-weight-400 change" name="currentPassword"
                   [(ngModel)]="user.password"
                   #password="ngModel"
                   required>
          </div>
          <div class="mt-3  d-flex flex-column justify-content-start col-12">
            <label class="d-flex flex-row justify-content-start font-size-12 font-weight-500">New Password</label>
            <span class="text-danger"
             *ngIf="submitted && newPasswordRef.errors?.['required']">This is required field</span>
            <input type="password" placeholder="New Password"
                   class="white-input-background mt-2 font-size-14 font-weight-400 change" name="newPassword"
                   [(ngModel)]="user.newPassword"
                   #newPasswordRef="ngModel"
                   required>
          </div>
          <div class="mt-3 mb-3  d-flex flex-column justify-content-start col-12">
            <label class="d-flex flex-row justify-content-start font-size-12 font-weight-500">Confirm Password</label>
            <span class="text-danger"
             *ngIf="submitted && confirmPasswordRef.errors?.['required']">This is required field</span>
            <span
              class="text-danger" *ngIf="submitted && confirmPasswordRef.errors?.['passwordMismatch']">
              Passwords does not match
            </span>
            <input type="password" placeholder="Confirm Password"
                   class="white-input-background mt-2 font-size-14 font-weight-400 change" name="confirmPassword"
                   [(ngModel)]="confirmPassword"
                   #confirmPasswordRef="ngModel"
                   required>
          </div>
        </div>
      </form>
    </div>

    <div class="modal-footer" style="border-top: 0px solid #f7f3f2;padding-top: 0px;padding-bottom:1rem">
      <div class="d-flex flex-row  col-12 ps-2">
        <button type="button"
                class="btn light-green-btn col-12"
        (click)="save()">Save
        </button>
      </div>
    </div>

  </div>
</div>


